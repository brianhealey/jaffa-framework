<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Root PUBLIC "-//JAFFA//DTD Object Maintenance Meta 2.0//EN" "http://jaffa.sourceforge.net/DTD/object-maintenance-meta_2_0.dtd">
<Root>
  <PatternTemplate>patterns/library/object_maintenance_2_1/ObjectMaintenancePattern.xml</PatternTemplate>
  <Application>Jaffa</Application>
  <Module>Printing</Module>
  <Component>FormGroupMaintenance</Component>
  <BasePackage>org.jaffa.modules.printing</BasePackage>
  <DomainObject>FormGroup</DomainObject>
  <DomainPackage>org.jaffa.modules.printing.domain</DomainPackage>
  <Title>[title.Modules.Printing.FormGroupMaintenance.maintenance]</Title>
  <KeyFields>
    <KeyField>
      <Name>FormName</Name>
      <DataType>STRING</DataType>
      <DomainField>FormName</DomainField>
    </KeyField>
  </KeyFields>
  <Fields>
    <Field>
      <Name>FormName</Name>
      <DataType>STRING</DataType>
      <Display>true</Display>
      <DomainField>FormName</DomainField>
    </Field>
    <Field>
      <Name>Description</Name>
      <DataType>STRING</DataType>
      <Display>true</Display>
      <Mandatory>true</Mandatory>
      <DomainField>Description</DomainField>
    </Field>
    <Field>
      <Name>FormType</Name>
      <DataType>STRING</DataType>
      <Display>true</Display>
      <DomainField>FormType</DomainField>
      <Breakup>
        <WidgetType>RadioButton</WidgetType>
        <StaticValues>
          <StaticValue>
            <Code>PDF</Code>
            <Description>[label.Jaffa.Printing.FormGroup.FormType.PDF]</Description>
          </StaticValue>
          <StaticValue>
            <Code>FOP</Code>
            <Description>[label.Jaffa.Printing.FormGroup.FormType.FOP]</Description>
          </StaticValue>
          <StaticValue>
            <Code>LABEL</Code>
            <Description>[label.Jaffa.Printing.FormGroup.FormType.LABEL]</Description>
          </StaticValue>
        </StaticValues>
      </Breakup>
    </Field>
  </Fields>
  <RelatedObjects>
    <RelatedObject>
      <Name>FormUsage</Name>
      <ObjectName>FormUsage</ObjectName>
      <Package>org.jaffa.modules.printing.domain</Package>
      <RelationshipToDomainObject>Many</RelationshipToDomainObject>
      <DeleteConstraint>Restricted</DeleteConstraint>
      <RelatedObjectJoinFields>
        <RelatedObjectJoinBetween>
          <Name>FormName</Name>
          <DomainField>FormName</DomainField>
          <RelatedObjectFieldName>FormName</RelatedObjectFieldName>
          <RelatedObjectDomainField>FormName</RelatedObjectDomainField>
        </RelatedObjectJoinBetween>
      </RelatedObjectJoinFields>
      <RelatedObjectFields>
        <RelatedObjectField>
          <Name>EventName</Name>
          <DataType>STRING</DataType>
          <Display>true</Display>
          <Label>[label.Jaffa.Printing.FormGroup.EventName]</Label>
          <DomainField>EventName</DomainField>
        </RelatedObjectField>
        <RelatedObjectField>
          <Name>FormAlternate</Name>
          <DataType>STRING</DataType>
          <Display>true</Display>
          <Label>[label.Jaffa.Printing.FormDefinition.FormAlternate]</Label>
          <DomainField>FormAlternate</DomainField>
        </RelatedObjectField>
        <RelatedObjectField>
          <Name>Copies</Name>
          <DataType>INTEGER</DataType>
          <Display>true</Display>
          <Label>[label.Jaffa.Printing.FormUsage.Copies]</Label>
          <DomainField>Copies</DomainField>
        </RelatedObjectField>
        <RelatedObjectField>
          <Name>Description</Name>
          <DataType>STRING</DataType>
          <Display>true</Display>
          <Label>[label.Jaffa.Printing.FormEvent.Description]</Label>
          <DomainField>Description</DomainField>
          <SourceChain>
            <Source>
              <Object>FormEvent</Object>
              <Package>org.jaffa.modules.printing.domain</Package>
              <JoinFields>
                <JoinBetween>
                  <DomainObjectField>EventName</DomainObjectField>
                  <SourceField>EventName</SourceField>
                </JoinBetween>
              </JoinFields>
            </Source>
          </SourceChain>
        </RelatedObjectField>
      </RelatedObjectFields>
      <OrderByFields>
        <OrderByField>
          <DomainFieldName>EventName</DomainFieldName>
          <sortAscending>true</sortAscending>
        </OrderByField>
      </OrderByFields>
      <RelatedObjectKeyFields>
        <RelatedObjectKeyField>
          <RelatedObjectFieldName>EventName</RelatedObjectFieldName>
          <DataType>STRING</DataType>
          <FieldNameInTargetComponent>EventName</FieldNameInTargetComponent>
        </RelatedObjectKeyField>
      </RelatedObjectKeyFields>
    </RelatedObject>
  </RelatedObjects>
  <Screens>
    <Screen SaveActionAvailableInCreateMode="true" PerformTxValidationOnNextAction="true" AvailableInUpdateMode="true" AvailableInCreateMode="true" Name="main">
      <References>
        <FieldReference Name="FormName"/>
        <FieldReference Name="Description"/>
        <FieldReference Name="FormType"/>
        <RelatedObjectReference RelatedObjectName="FormUsage"/>
      </References>
    </Screen>
  </Screens>
</Root>
